/**
 * Created with IntelliJ IDEA.
 * User: moo
 * Date: 13-3-20
 * Time: 上午11:43
 * To change this template use File | Settings | File Templates.
 */
function loadConfig(data) {
    var config_str = data;
    var l = [16, 19, 17, 7, 20, 23, 13, 1, 24, 15, 6, 12, 0, 18, 21, 2, 9, 14, 3, 10, 5, 25, 8, 4, 22, 11];
    var config_new = [];
    var index = 26;
    while (index < config_str.length) {
        for (var i = 0; i < 26; i++) {
            config_new[index - 26 + i] = config_str[index - 26 + l[i]]
        }
        index += 26
    }
    if (index - 26 < config_str.length) {
        for (var i = 0; i < config_str.length - index + 26; i++) {
            config_new[index - 26 + i] = config_str[index - 26 + i]
        }
    }
    var str = "";
    for (var i = 0; i < config_new.length; i++) {
        str += config_new[i]
    }
    return str
}
function parseConfigData(strcode) {
    var  i = 0, j = 0;
    var cryptb, lowBits, highBits;
    var bytes = "";
    while (i < strcode.length) {
        var byte_char = strcode.substring(i, i + 2);
        cryptb =string2ByteRadix36(byte_char);
        i += 2;
        lowBits = cryptb & 0xF;
        highBits = (cryptb >> 4) & 0xF;
        if (lowBits == 15) {
            lowBits = 15;
        } else {
            lowBits = parseInt((Math.pow(lowBits, 11)) % 15);
        }
        if (highBits == 15) {
            highBits = 15;
        } else {
            highBits = parseInt((Math.pow(highBits, 11)) % 15);
        };
        bytes += String.fromCharCode((highBits << 4) | lowBits);
    }
    strcode =bytes;////"".concat bytes.toString(); //strcode = Bytes2Str(bytes);
    return strcode;
};

function string2ByteRadix36(str){
    var c0 = str.charCodeAt(0);
    var c1 = str.charCodeAt(1);
    var a0 = c0 < 'a'.charCodeAt(0) ? c0 - '0'.charCodeAt(0) : c0 - 'a'.charCodeAt(0) + 10;
    var a1 = c1 < 'a'.charCodeAt(0) ? c1 - '0'.charCodeAt(0) : c1 - 'a'.charCodeAt(0) + 10;
    return (a0 * 36 + a1);
}

var TWBrowser, TWSize, TWLanguage, TWConfig, TWMain = {}, TWScene, TWTools,TWProgress;
var LanguageList = {
    tip0:{
        en:"Loading ",
        cn:"加载文件 "
    },
    tip1:{
        en:"Loading resource",
        cn:"加载资源中......"
    },
    tip2:{
        en:"Please contact with the publisher as the virtual tour is expired.",
        cn:"本漫游已经过期，请联系制作单位!"
    },
    tip3:{
        en:"Please contact with the publisher as the virtual tour can't be played.",
        cn:"本漫游被限制不能播放，请联系制作单位!"
    },
    tip4:{
        en:"webApp is available offline",
        cn:"提示：webApp可以离线浏览了"
    },
    tip5:{
        en:"Analyzing configuration.....",
        cn:"正在解析配置......"
    },
    tip6:{
        en:"Supported Browsers: <br/><br/>1.Safari 5.0 or above,<br/><br/>2.Chrome 21.0 or above,<br/><br/>3.IE10.0 or above.",
        cn:"Supported Browsers: <br/><br/>1.Safari 5.0 or above,<br/><br/>2.Chrome 21.0 or above,<br/><br/>3.IE10.0 or above."
    },
    tipInfo1:{
        en:"This virtual tour is generated by Easypano Tourweaver trial version. ",
        cn:"This virtual tour is generated by Easypano Tourweaver trial version. "
    },
    tipInfo2:{
        en:"To avoid seeing the window again, please register Easypano Tourweaver.  ",
        cn:"To avoid seeing the window again, please register Easypano Tourweaver.  "
    },
    tipInfo3:{
        en:"For more information, please visit",
        cn:"For more information, please visit"
    },
    tipInfoGyroClose:{
        en:"Gyro effect is turned off",
        cn:"陀螺仪已关闭"
    },
    tipInfoGyroOpen:{
        en:"Gyro effect is turned on",
        cn:"陀螺仪已开启"
    },
    tipDirection1:{
        en:"opposite to dragging direction",
        cn:"和拖动方向相反"
    },
    tipDirection2:{
        en:"same with dragging direction",
        cn:"和拖动方向一致"
    }
};
(function () {
    var MHelp = {
        $id:function (id) {
            return document.getElementById(id) ? document.getElementById(id) : null
        },
        $tname:function (name) {
            return document.getElementsByTagName(name) ? document.getElementsByTagName(name) : null
        },
        contains:function (root, el) {
            if (root === el) return false;
            if (root.compareDocumentPosition) return root === el || !!(root.compareDocumentPosition(el) & 16);
            if (root.contains && el.nodeType === 1) {
                return root.contains(el) && root !== el
            }
            while ((el = el.parentNode)) if (el === root) return true;
            return false
        },
        createDom:function (tagName) {
            var el = document.createElement(tagName);
            return el
        },
        loadScript:function (id, src, callback, cthis) {
            var script = MHelp.createDom("script");
            script.name = id;
            script.type = "text/javascript";
            script.src = src;
            script.onload = function () {
                if (callback && cthis) callback.call(cthis);
                else if (callback) callback()
            };
            MHelp.$tname("head")[0].appendChild(script)
        },
        loadCss:function (id, src, callback, cthis) {
            var link = MHelp.createDom("link");
            link.name = id;
            link.type = "text/css";
            link.rel = "stylesheet";
            link.charset = "utf-8";
            link.href = src;
            link.onload = function () {
                if (callback && cthis) {
                    callback.call(cthis)
                } else if (callback) callback()
            };
            MHelp.$tname("head")[0].appendChild(link)
        },
        getBrowser:function () {
            var browerInfo = navigator.userAgent.toLowerCase();
            var typeInfo = (browerInfo.match(/msie|firefox|chrome|safari|opera/g) || "other")[0];
            var pc = "";
            var prefix = "";
            var plat = "";
            var supportCSSMatrixes = false;
            //如果没有触摸事件 判定为PC
            var isTocuh = ("msPointerEnabled" in window) || ("ontouchstart" in window) || browerInfo.indexOf("touch") >=0;
            if(isTocuh){
                if(browerInfo.indexOf("ipad")>= 0){
                    pc = "pad";
                }else if(browerInfo.indexOf("mobile")>=0){
                    pc = "mobile";
                }else if(browerInfo.indexOf("android") >=0){
                    pc = "androidPad";
                }else{
                    pc = "pc";
                }
            }else{
                pc = "pc";
            }
            switch (typeInfo) {
                case "chrome":
                case "safari":
                case "mobile":
                    prefix = "webkit";
                    supportCSSMatrixes = (('WebKitCSSMatrix') in window);
                    break;
                case "msie":
                    prefix = "ms";
                    supportCSSMatrixes = (('MSCSSMatrix') in window);
                    break;
                case "firefox":
                    prefix = "Moz";
                    supportCSSMatrixes = (('MozCSSMatrix') in window);
                    break;
                case "opera":
                    prefix = "O";
                    supportCSSMatrixes = (('OCSSMatrix') in window);
                    break;
                default:
                    prefix = "webkit";
                    supportCSSMatrixes = false;
                    break
            }
            plat = (browerInfo.indexOf("android") > 0)?"android": navigator.platform.toLowerCase();
            return {
                version:(browerInfo.match(/[\s\S]+(?:rv|it|ra|ie)[\/: ]([\d.]+)/) || [])[1],
                plat:plat,
                type:typeInfo,
                pc:pc,
                prefix:prefix,
                CSSMatrix:supportCSSMatrixes
            }
        },
        getWindowSize:function () {
            var json = {
                position:{
                    left:window.screenX || window.screenLeft,
                    top:window.screenY || window.screenTop
                },
                width:window.outerWidth,
                height:window.outerHeight,
                viewPort:{
                    width:window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
                    height:window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,
                    horizontalScroll:window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,
                    verticalScroll:window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
                },
                Document:{
                    width:document.documentElement.scrollWidth || document.body.scrollWidth,
                    height:document.documentElement.scrollHeight || document.body.scrollHeight
                },
                screen:{
                    screenWidth:window.screen.width,
                    screenHeight:window.screen.height
                }
            };
            return json
        },
        loadResource:function (uri, callBack) {
            var xmlHttp = mutil.createXMLHttp();
            var url = uri;
            xmlHttp.open('GET', url, true);
            xmlHttp.onreadystatechange = function () {
                if (xmlHttp.readyState == 4) {
                    var result = xmlHttp.responseText || xmlHttp.response;
                    if (callBack && typeof callBack == "function") {
                        callBack(result)
                    }
                }
            };
            xmlHttp.overrideMimeType("text/plain; charset=x-user-defined");
            xmlHttp.send(null)
        },
        createXMLHttp:function () {
            var XmlHttp;
            if (window.ActiveXObject) {
                var arr = ["MSXML2.XMLHttp.6.0", "MSXML2.XMLHttp.5.0", "MSXML2.XMLHttp.4.0", "MSXML2.XMLHttp.3.0", "MSXML2.XMLHttp", "Microsoft.XMLHttp"];
                for (var i = 0; i < arr.length; i++) {
                    try {
                        XmlHttp = new ActiveXObject(arr[i]);
                        return XmlHttp
                    } catch (error) {
                    }
                }
            } else {
                try {
                    XmlHttp = new XMLHttpRequest();
                    return XmlHttp
                } catch (otherError) {
                }
            }
        },
        _rndRGB2:function (v) {
            var s = v.toString(16);
            return s.length == 2 ? s : ("0" + s)
        },
        rndRGB:function () {
            var r = Math.floor(Math.random() * 256),
                g = Math.floor(Math.random() * 256),
                b = Math.floor(Math.random() * 256);
            return "#" + this._rndRGB2(r) + this._rndRGB2(g) + this._rndRGB2(b)
        },
        rgb2Arr:function (rgb_str) {
            if (rgb_str.length != 7) return [0, 0, 0];
            var r = rgb_str.substr(1, 2),
                g = rgb_str.substr(3, 2),
                b = rgb_str.substr(3, 2);
            return [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)]
        },
        xmlParseToJSON:function (nodes) {
            var json = {};
            for (var i = 0; i < nodes.length; i++) {
                var node = nodes[i];
                var name = node.nodeName;
                var type = node.nodeType;
                var value = null;
                if (type == 3) continue;
                if (node.childNodes.length == 0) {
                    value = null
                } else if (node.childNodes.length == 1 && node.childNodes[0].nodeType == 3) {
                    value = node.childNodes[0].nodeValue
                } else {
                    value = this.xmlParseToJSON(node.childNodes)
                }
                if (!json[name]) {
                    json[name] = value
                } else {
                    if (Object.prototype.toString.call(json[name]) === '[object Array]') {
                        json[name].push(value)
                    } else {
                        var _value = json[name];
                        json[name] = [];
                        json[name].push(_value);
                        json[name].push(value)
                    }
                }
            }
            return json
        },
        setToArray: function(obj) {
            if (obj && Object.prototype.toString.call(obj) != '[object Array]') {
                var cmaps = obj;
                var arr = [];
                arr.push(cmaps);
                return arr
            } else {
                return obj
            }
        },
        createTip:function (width, height, text, id, content) {
            content = content ? content : {};
            var size = this.getWindowSize();
            var conDom = content.target || document.body;
            var conWidth = content.width || size.viewPort.width;
            var conHeight = content.height || size.viewPort.height;
            var div = this.createDom("div");
            var top = (conHeight - height) / 2;
            var left = (conWidth - width) / 2;
            div.setStyles({
                position:"absolute",
                zIndex:9999,
                width:width + "px",
                height:height + "px",
                lineHeight:height + "px",
                top:top + "px",
                left:left + "px",
                textAlign:"center",
                backgroundColor:"#2156FD",
                color:"white",
                fontSize:"16px",
                fontWeight:"bold",
                opacity:0.5,
                borderRadius:"8px",
                border:"1px solid #608D36"
            });
            div.setProperties({
                name:"tip_id",
                id:id ? id : "tip_id"
            });
            div.innerText = text;
            div.inject(conDom);
            return div
        }
    };
    window.mutil = MHelp
})();
(function () {
    var initializing = true,fnTest = /xyz/.test(function() {
        xyz
    }) ? /\b_super\b/: /.*/;
    var cCore = function() {};
    cCore.extend = function(prototypes) {
        var _super = this.prototype;
        initializing = false;
        var prototype = new this();
        initializing = true;
        for (var name in prototypes) {
            prototype[name] = typeof prototypes[name] == "function" && typeof _super[name] == "function" && fnTest.test(prototypes[name]) ? (function(name, fn) {
                return function() {
                    this._super = _super[name];
                    var ret = fn.apply(this, arguments);
                    delete this._super;
                    return ret
                }
            })(name, prototypes[name]) : prototypes[name]
        }
        var newClass = function() {
            if (initializing && this.init) {
                this.init.apply(this, arguments)
            }
        };
        newClass.prototype = prototype;
        newClass.constructor = newClass;
        newClass.extend = arguments.callee;
        return newClass
    };
    window.TWCore = cCore;

    /*加载进度条类*/
    var cTWProgressBar = TWCore.extend({
        init:function (options) {
            this.setOptions(options);
            this.width = 211;
            this.height = 54;
            if(this.mode != "standard"){
                this.createCustomDom();
            }else{
                this.createDom();
            }
        },
        setOptions:function (options) {
            for (var key in options) {
                this[key] = options[key];
            }
        },
        createCustomDom:function(){
            this.target = document.createElement("div").inject(document.body);
            this.target.className = "divProgressBarLayer";
            this.width = parseInt(this.target.offsetWidth) || 0;
            this.height = parseInt(this.target.offsetHeight) || 0;
            this.resizeProgressBar(TWMain.width, TWMain.height);
        },
        createDom:function () {
            this.target = document.createElement("div").inject(document.body);
            this.target.className = "divProgressBarLayer";
            this.width = parseInt(this.target.offsetWidth) || 0;
            this.height = parseInt(this.target.offsetHeight) || 0;
            this.DivProgressText = document.createElement("div").inject(this.target);
            this.DivProgressText.id = "DivProgressText";
            this.DivProgressBar = document.createElement("div").inject(this.target);
            this.DivProgressBar.id = "DivProgressBar";
            this.DivProgressBarPercent = document.createElement("div").inject(this.DivProgressBar);
            this.DivProgressBarPercent.id = "DivProgressBarPercent";
            this.DivProgressBar.style.display = "block";
            this.DivProgressBarPercent.style.width = "1px";
            this.resizeProgressBar(TWMain.width, TWMain.height);
            this.updateProgress(0);
        },
        resizeProgressBar:function (width, height) {
            this.target.setStyles({
                position:"absolute",
                left:(width - this.width ) / 2 + "px",
                top:(height - this.height ) / 2 + "px"
            });
        },
        hide:function () {
            var self = this;
            this.target && (this.target.style.display = "none");
        },
        updateProgress:function(num){
            num = Number(num).toFixed(0);
            this.DivProgressText && (this.DivProgressText.innerHTML = num+"%");
            this.DivProgressBarPercent && (this.DivProgressBarPercent.style.width = num + "%");
        }
    });
    window.TWProgressBar = cTWProgressBar;

    /*场景工具栏类*/
    var cTWToolBar = TWCore.extend({
        init:function (options, play) {
            this.button = [];
            this.width = 306;
            this.height = 111;
            this.setOptions(options);
            this.play = play;
            this.tooglegyroDom = null;
            this.changeModeDom = null;
            this.createDom();
            this.setDefaultMode();
        },
        setOptions:function (options) {
            for (var key in options) {
                this[key] = options[key];
            }
        },

        createDom:function () {
            this.container = document.createElement("div").setStyles({
                zIndex:7
            }).inject(document.body);
            this.container.id = "DivToolBar";
            this.loadList();

            this.DivToolBarTip = document.createElement("div").inject(this.container);
            this.DivToolBarTip.id = "DivToolBarTip";
            //this.DivToolBarTip.innerText = "ToolBar";
            this.DivToolBarTip.setStyles({
                left:(this.width - 64) / 2 + "px",
                textAlign:"center"
            });

            this.DivToolBarHandler = document.createElement("div");
            this.DivToolBarHandler.id = "DivToolBarHandler";


        },

        insertOtherDOM:function (target, width, height) {
            var self = this;
            this.container.setStyles({
                position:"absolute",
                top:(height - this.height) + "px",
                left:(width - this.width) / 2 + "px"
            });
            this.container.inject(target);

            this.DivToolBarHandler.setStyles({
                position:"absolute",
                top:(height - 26) + "px",
                left:(width - 64) / 2 + "px",
                cursor:"pointer",
                display:"none"
            });
            this.DivToolBarHandler.inject(target);
            this.DivToolBarHandler.addEvent(TWMain.eventClick, function () {
                self.DivToolBarHandler.hide(self.hide, function () {
                    self.DivToolBarHandler.style.display = "none";
                    self.container.style.display = "block";
                    self.DivToolBarHandler.style.opacity = 1;
                })

            })

        },
        resizeToolBar:function (width, height) {
            this.container.setStyles({
                top:(height - this.height) + "px",
                left:(width - this.width) / 2 + "px"
            });
            this.DivToolBarHandler.setStyles({
                top:(height - 26) + "px",
                left:(width - 64) / 2 + "px"
            });
        },
        stopEvent:function (e) {
            e = e ? e : window.event;
            e.preventDefault();
            e.stopPropagation();
        },
        loadList:function () {

            var self = this;
            //if(TWBrowser.pc != "pc"){
            /*this.button[8]["hint"] = "Open,Close";
            this.button[4]["action"] = "togglegyro";*/

            if(this.play.mode != "other"){
                this.button[8]["style"] += "2";
            }

            var c = this.button;
            for (var a = 0; a < c.length; a++) {
                var b = document.createElement("div").inject(this.container);
                b.className = c[a].style + "_common";
                b.setProperties({
                    action:c[a].action,
                    hint:c[a].hint,
                    showText:c[a].hint.split(",")[0] || "",
                    name:c[a].hint,
                    position:c[a].hint
                });
                b.setStyles({
                    cursor:"pointer"
                });
                b.addEvent(TWMain.eventOver, function (e) {
                    self.DivToolBarTip.innerText = this.getProperty("showText");
                    this.className = this.className.replace(/\_(\w)*/g,"_hover");
                    self.stopEvent(e);
                });
                b.addEvent(TWMain.eventOut, function (e) {
                    self.DivToolBarTip.innerText = "";
                    this.className = this.className.replace(/\_(\w)*/g,"_common");
                    self.stopEvent(e);
                });
                b.addEvent(TWMain.eventClick, function (e) {
                    var action = this.getProperty("action").replace(/\(\)/g, "");
                    action = action.replace(/(\,|\;)/g, "");
                    action = action.toLowerCase();
                    self.stopEvent(e);
                    self[action] && self[action](this);
                });
                /* b.addEvent(TWMain.eventUp, function (e) {
                 self.clearTimeOut();
                 });*/
            }
        },
        setDefaultMode:function(){

        },
        animate:function () {
            var self = this;
            this.hide = parseInt(this.hide) * 0.01;
            this.container.hide(this.hide, function () {
                self.DivToolBarHandler.style.display = "block";
                self.container.style.display = "none";
                self.container.style.opacity = 1;
            })
        },
        changemode:function (obj) {
            this.changeModeDom = obj;
            this.play.stop();
            this.play.changeDragMode();
        },
        changeModeCallBack:function(isMode){
            if(isMode){
                this.changeModeDom.className = "changemode2_common";
                this.changeModeDom.setProperties({
                    showText:this.changeModeDom.getProperty("hint").split(",")[1]
                });

            }else{
                this.changeModeDom.className = "changemode_common";
                this.changeModeDom.setProperties({
                    showText:this.changeModeDom.getProperty("hint").split(",")[0]
                });
            }

        },
        reset:function () {
            this.play.stop();

            this.play.api_reset();
        },
        clearTimeOut:function(){
            this.hander && window.clearTimeout(this.hander);
        },
        zoomout:function () {
            this.play.stop();
            if(TWBrowser.plat != "android"){
                this.play.api_zoomout();
            }
        },
        zoomin:function () {
            this.play.stop();
            if(TWBrowser.plat != "android"){
                this.play.api_zoomin();
            }
        },
        up:function () {
            this.play.stop();
            this.play.api_up();
        },
        down:function () {
            this.play.stop();
            this.play.api_down();
        },
        right:function () {
            this.play.stop();
            this.play.api_right();
        },
        left:function () {
            this.play.stop();
            this.play.api_left();
        },
        togglegyro:function(obj){
            if(this.play){
                this.tooglegyroDom = obj;
                this.play.api_ToogleGyro()
            }
        },
        toggleGyroCallBack:function(isOpen){
            if(!this.tooglegyroDom)return;
            if(isOpen){
                this.tooglegyroDom.className = "gyrooff_common";
                this.tooglegyroDom.setProperties({
                    showText:this.tooglegyroDom.getProperty("hint").split(",")[1]
                });

            }else{
                this.tooglegyroDom.className = "gyro_common";
                this.tooglegyroDom.setProperties({
                    showText:this.tooglegyroDom.getProperty("hint").split(",")[0]
                });
            }
            //this.DivToolBarTip.innerText = "";//this.tooglegyroDom.getProperty("hint");
        }
    });
    window.TWToolBar = cTWToolBar;

    /*场景播放器类*/
    var cTWSceneViewer = TWCore.extend({
        init:function (options) {
            this.bgColor = "#FFFFFF";      //背景色
            this.container = null;     //播放器容器
            this.direction = "right";       //自动播放时的方向。【right】向右看；【left】向左看。
            this.height = 785;
            this.hotspots = null;
            this.image = {};
            this.initautoplay = "true";   //初始是否自动播放器。【true】是；【false】否。
            this.mode = "standard";   //standard鼠标拖动方向与场景移动方向相反,other移动方向相同
            this.name = "5th ave";    //场景名称
            this.preview = "";
            this.speed = "3";
            this.type = "cylinder";
            this.view = {};
            this.width = 1440;
            this.isRegister = false;
            this.setOptions(options);
            //if(this.type == "cylinder"){
                this.view.max.pan = parseInt(this.view.max.pan);// + 180;
                this.view.min.pan = parseInt(this.view.min.pan);// + 180;
                this.view.init.pan = parseInt(this.view.init.pan);

                this.view.max.tilt = parseInt(this.view.max.tilt);
                this.view.min.tilt = parseInt(this.view.min.tilt);
                this.view.init.tilt = parseInt(this.view.init.tilt);

                this.view.max.fov = parseInt(this.view.max.fov) - 20;
                this.view.min.fov = parseInt(this.view.min.fov);
                this.view.init.fov = parseInt(this.view.init.fov);
           // }
            this.target = "";
            this.playDom = null;
            this.eventDom = "";
            this.hotspotDom = "";
            this.containerDom = "";
            this.perspectiveDom = "";
            this.translateZDom = "";
            this.cubeDom = "";
            this.isRegisterDom = "";
            this.loadType = "Canvas";
            this.CubeCanvas = [];
            this.CubeDiv = [];
            this.CylinderCanvas = [];
            this.common = null;
            this.control = {
                isMDorTD:false,
                mode:false,
                renderNum:-1,
                downX:0,
                downY:0,
                moveX:0,
                moveY:0,
                keycode:0
            };
            this.csc = {
                dnd:false,
                scale:false,
                sx:0,
                sy:0
            };
            this.curScene = {};
            this.hotspotsObj = null;
            this.isGyro = false;
            this.createView();
            this.createPlayDom();
            this.api_changerscene();
            this.setDragDirection();
            this.addEventHanders(this.eventDom);
            this.loopEvent();
            this.addGyroEffect();

        },
        setOptions:function (options) {
            for (var key in options) {
                this[key] = options[key];
            }
        },
        registerTip:function(){
            if(this.isRegister)return;
            var demoCanvasData = "data:image/png;base64,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";
            var demoCanvas = this.isRegisterDom = document.createElement("canvas");
            var demoCTX = demoCanvas.getContext("2d");
            var width = 0;
            var height = 0;
            var self = this;
            var demoLogo = new Image();
            demoLogo.src = demoCanvasData;//"demoLogo.png";
            demoLogo.onload=function(){
                width = this.width;
                height = this.height;
                demoCanvas.width = width;
                demoCanvas.height = height;

                demoCanvas.setStyles({
                    position:"relative",
                    width:width + "px",
                    height:height+"px",
                    left:(self.width - width ) / 2 + "px",
                    top:(self.height - height) / 2 +"px",
                    zIndex:9
                });
                demoCTX.drawImage(this,0,0,width,height);
            };
            demoCanvas.inject(self.container);
        },
        setDragDirection:function () {
            if(this.mode == "standard"){
                this.control.mode = !this.control.mode;
            }
        },
        changeDragMode:function () {
            this.control.mode = !this.control.mode;
            TWTools && TWTools.changeModeCallBack(this.control.mode);
        },
        getDom:function (tag) {
            return document.createElement(tag);
        },
        createView:function () {
            this.target = this.getDom("div").setProperties({
                name:this.name
            }).setStyles({
                    backgroundColor:this.bgColor,
                    position:"absolute",
                    width:this.width + "px",
                    height:this.height + "px"
                }).inject(this.container);
            this.create3DDom();
            this.registerTip();
            this.eventDom =this.getDom("div").setStyles({
                position:"absolute",
                top:"0px",
                left:"0px",
                overflow:"hidden",
                zIndex:1,
                height:this.height + "px",
                width:this.width + "px",
                background:"white",
                opacity:0.00001
            });
            this.eventDom.id = "eventDom";
            this.eventDom.style[TWBrowser.prefix + "UserSelect"] = "none";
            this.eventDom.style.cursor = "url(style/common.gif),auto";
            this.eventDom.inject(this.playDom);

        },
        create3DDom:function () {
            this.playDom = this.getDom("div").setStyles({
                top:"0px",
                left:"0px",
                position:"absolute",
                height:"100%",
                width:"100%",
                overflow:"hidden",
                zIndex:0,
                opacity:1
            }).inject(this.target);
            this.playDom.id = "scenePlayDom";
            this.containerDom = this.getDom("div").setStyles({
                top:"0px",
                left:"0px",
                position:"absolute",
                zIndex:-1,
                height:"100%",
                width:"100%"
            }).inject(this.playDom);
            this.containerDom.id = "containerDom";
            this.perspectiveDom = this.getDom("div").setStyles({
                zIndex:1,
                height:"100%",
                width:"100%",
                position:"absolute"
            }).inject(this.containerDom);
            this.perspectiveDom.id = "perspectiveDom";
            this.translateZDom = this.getDom("div").setStyles({
                zIndex:"100",
                height:"100%",
                width:"100%"
            }).inject(this.perspectiveDom);
            this.translateZDom.id = "translateZDom";
            this.cubeDom = this.getDom("div").setStyles({
                height:"100%",
                width:"100%",
                position:"absolute",
                zIndex:100
            }).inject(this.translateZDom);
            this.cubeDom.id = "cubeDom";

        },
        setViewSize:function (width, height) {
            this.width = width;
            this.height = height;
            this.target.setStyles({
                width:this.width + "px",
                height:this.height + "px"
            });
            /*this.containerDom && this.containerDom.setStyles({
                marginTop:(this.height - this.ImageCubeSize) / 2 + "px",
                marginLeft:(this.width - this.ImageCubeSize) / 2 + "px",
                position:"relative",
                height:this.ImageCubeSize + "px",
                width:this.ImageCubeSize + "px"
            });*/
            this.eventDom && this.eventDom.setStyles({
                top:"0px",
                left:"0px",
                width:this.width + "px",
                height:this.height + "px",
                zIndex:1
            });
            this.isRegisterDom && (this.isRegisterDom.setStyles({
                position:"absolute",
                top:(parseInt(this.height) - parseInt(this.isRegisterDom.height)) / 2+"px",
                left:(parseInt(this.width) - parseInt(this.isRegisterDom.width)) / 2+"px",
                width:this.isRegisterDom.width + "px",
                height:this.isRegisterDom.height + "px"
            }));
        },
        createPlayDom:function () {
            for (var i = 0; i < 6; i++) {
                var C_Canvas = this.getDom("canvas").setStyles({
                    position:"absolute",
                    top:"0px",
                    left:"0px",
                    //width:"128px",
                    //height:"128px",
                    overflow:"hidden",
                    zIndex:0
                });
                this.CubeCanvas[i] = C_Canvas;
            }
            for (var i = 0; i < 72; i++) {
                var _cv = this.getDom("canvas");
                _cv.style.position = "absolute";
                _cv.style.top = "0px";
                _cv.style.left = "0px";
                _cv.style[TWBrowser.prefix + "TransformOriginX"] = "0";
                _cv.style[TWBrowser.prefix + "TransformOriginY"] = "0";
                _cv.style[TWBrowser.prefix + "TransformOriginZ"] = "0";
                _cv.style[TWBrowser.prefix + "BackfaceVisibility"] = "hidden";
                this.CylinderCanvas.push(_cv)
            }
            this.common = this.getDom("canvas");
            this.common.style.position = "absolute"
        },
        loopEvent:function () {
            var self = this;
            this.loopHander && window.clearTimeout(this.loopHander);
            this.loopHander = null;
            if (this.control.renderNum > -1) {
                this.updatePanTilt(this.control.moveX, this.control.moveY);
                this.setPanTiltFov();
            }
            if (this.control.renderNum == -1 && (this.control.moveX != 0 || this.control.moveY != 0)) {
                this.control.moveX = 0.9 * this.control.moveX;
                this.control.moveY = 0.9 * this.control.moveY;
                if (this.control.moveX * this.control.moveX + this.control.moveY * this.control.moveY < 0.1) {
                    this.control.moveX = 0;
                    this.control.moveY = 0
                } else {
                    this.updatePanTilt(this.control.moveX, this.control.moveY);
                }
                this.setPanTiltFov();
            }
            if (this.control.keycode != 0) {
                switch (this.control.keycode) {
                    case 120:
                        this.updatePanTilt(this.curScene.speed, 0);
                        this.setPanTiltFov();
                        break;
                    case 37:
                        this.updatePanTilt(this.curScene.speed / 10, 0, "left");
                        this.setPanTiltFov();
                        break;
                    case 38:
                        this.updatePanTilt(0, this.curScene.speed / 10, "up");
                        this.setPanTiltFov();
                        break;
                    case 39:
                        this.updatePanTilt(-this.curScene.speed / 10, 0, "right");
                        this.setPanTiltFov();
                        break;
                    case 40:
                        this.updatePanTilt(0, -this.curScene.speed / 10, "down");
                        this.setPanTiltFov();
                        break;
                    case 43:
                    case 107:
                    case 16:
                        this.curScene.fov = this.curScene.fov - this.curScene.speed / 100;
                        this.setPanTiltFov();
                        break;
                    case 17:
                    case 18:
                    case 109:
                    case 45:
                    case 91:
                        this.curScene.fov = this.curScene.fov + this.curScene.speed / 100;
                        this.setPanTiltFov();
                        break;
                    default:

                }
            }
            this.loopHander = window.setTimeout(function () {
                self.loopEvent()
            },30);
        },
        updatePanTilt:function (x, y, isControl) {
            var vfov = this.curScene.fov;
            if (isControl) {
                this.curScene.pan -= x * vfov / this.width;
                this.curScene.tilt += y * vfov / this.height
            } else {
                if (!this.control.mode) {
                    this.curScene.pan -= x * vfov / this.width;
                    this.curScene.tilt += y * vfov / this.height
                } else {
                    this.curScene.pan += x * vfov / this.width;
                    this.curScene.tilt -= y * vfov / this.height
                }
            }
        },
        addEventHanders:function (Dom) {
            var isMove = true;
            var self = this;
                Dom.addEvent("mousedown",
                    function (e) {
                        if(!isMove)return;
                        self.mouseDown(e);
                        self.api_CloseGyro();//  = false;
                    });
                Dom.addEvent("mousemove",
                    function (e) {
                        if(!isMove)return;
                        self.mouseMove(e) ;
                    });
                Dom.addEvent("mouseup",
                    function (e) {
                        if(!isMove)return;
                        self.mouseUp(e)
                    });
                Dom.addEvent("mouseout",
                    function (e) {
                        if(!isMove)return;
                        self.mouseOut(e)
                    });
                Dom.addEvent("mousewheel",
                    function (e) {
                        if(!isMove)return;
                        self.mouseWheel(e)
                    });
            if(TWBrowser.type != "pc") {
                Dom.addEvent("touchstart",
                    function (e) {
                        isMove == false;
                        self.touchStart(e);
                        self.api_CloseGyro();
                    });
                Dom.addEvent("touchmove",
                    function (e) {
                        self.touchMove(e)
                    });
                Dom.addEvent("touchend",
                    function (e) {
                        self.touchEnd(e);
                        self.changerMobileModel();
                    });
                Dom.addEvent("touchcancel",
                    function (e) {
                        self.tc(e);
                        self.changerMobileModel()
                    });
                Dom.addEvent("gesturestart",
                    function (e) {
                        self.gs(e)
                    });
                Dom.addEvent("gesturechange",
                    function (e) {
                        self.gc(e)
                    });
                Dom.addEvent("gestureend",
                    function (e) {
                        self.ge(e)
                    })
            }
        },
        loadHostPoint:function () {
            if(!this.hotspotsObj){
                this.hotspotsObj = new TWHostPoint(this.hotspots);
            }
        },
        changerMobileModel:function () {
            if (this.isShowSceneHander) {
                window.clearTimeout(this.isShowSceneHander)
            }
        },
        setWebKitCss:function () {
            var self = this;
            this.ImageCubeSize = 0;
            var isIpad = (TWBrowser.pc == "mobile") ? "mobile" : (TWBrowser.pc == "pad" || TWBrowser.pc == "androidPad") ? "ipad" : "pc";
            var sortArr = ["right", "front", "left", "back", "up", "down"];
            var src = this.image[isIpad][sortArr[0]].url;
            var img = new Image();
            img.src = src;
            img.onload = function(){
                self.ImageCubeSize = (TWBrowser.pc == "androidPad")?480:(Math.min(this.width,this.height));
                if(self.ImageCubeSize >=2000)self.ImageCubeSize = 1800;
                //webkit样式设置好后 加载小图
                self.loadMiniImage();
            }
        },
        playDomShow:function () {
            var self = this;
            this.setPanTiltFov();
            this.container.style.display = "block";
           // window.scrollTo(0, 1);
           // window.scrollTo(1, 0);
            this.playDom.show(10,
                function () {
                    self.loadHostPoint();
                    self.autoPlay((self.direction == "right"?1:-1));
                })
        },
        playDomHidden:function () {
            this.api_CloseGyro();
        },
        loading:function () {
            this.cubeDom.innerHTML = "";
            this.playDomHidden();
            var sceneType = this.type;
            switch (sceneType) {
                case "Sphere":
                case "cube":
                    /*if(TWBrowser.type == "safari"){
                        this.loadCubeScene222();
                    }else{*/
                        this.loadCubeScene();
                    //}
                    break;
                case "cylinder":
                    if(TWBrowser.type == "msie"){
                        this.loadCylindricalScene();
                    }else{
                        this.loadCylindricalSceneAndroid();
                    }
                    break;
                default:
                    this.playDom.style.opacity = 0;
                    this.loadStillScene();
                    break
            }
        },

        /////////////
        loadCubeScene222:function () {
            this.setWebKitCss222();
        },
        setWebKitCss222:function () {
            var self = this;
            this.ImageCubeSize = 0;
            var isIpad = (TWBrowser.pc == "mobile") ? "mobile" : (TWBrowser.pc == "pad" || TWBrowser.pc == "androidPad") ? "ipad" : "pc";
            var sortArr = ["right", "front", "left", "back", "up", "down"];
            var src = this.image[isIpad][sortArr[0]].url;
            var img = new Image();
            img.src = src;
            img.onload = function(){
                self.ImageCubeSize = (TWBrowser.pc == "androidPad")?480:Math.min(this.width,this.height);
                if(self.ImageCubeSize >=2000)self.ImageCubeSize = 1800;
                if (TWBrowser.type != "msie") {
                    self.containerDom.setStyles({
                        position:"relative"
                    });
                    self.translateZDom.style[TWBrowser.prefix + "TransformStyle"] = "preserve-3d";
                    self.cubeDom.style[TWBrowser.prefix + "TransformStyle"] = "preserve-3d";
                    self.cubeDom.style[TWBrowser.prefix + "TransformOriginX"]="0px";
                    self.cubeDom.style[TWBrowser.prefix + "TransformOriginY"] = "0px";
                }
                //webkit样式设置好后 加载小图
                self.loadMiniImage222();
            }
        },
        loadMiniImage222:function(){
            var self = this;
            var miniSrc = this.preview;
            var MiniCubeSize = 0;
            var miniImage = new Image();
            miniImage.src = (miniSrc);
            miniImage.onload = function () {
                TWProgress && TWProgress.updateProgress((1 / 7) * 100);
                MiniCubeSize = Math.min(this.width, this.height);
                for (var f = 0; f < 6; f++) {
                    var miniCanvas = document.createElement("canvas");
                    miniCanvas.height = MiniCubeSize;
                    miniCanvas.width = MiniCubeSize;
                    var miniCTX = miniCanvas.getContext("2d");
                    if (this.width > this.height) {
                        miniCTX.drawImage(this, f * MiniCubeSize, 0, MiniCubeSize, MiniCubeSize, 0, 0, MiniCubeSize, MiniCubeSize)
                    } else {
                        miniCTX.drawImage(this, 0, f * MiniCubeSize, MiniCubeSize, MiniCubeSize, 0, 0, MiniCubeSize, MiniCubeSize)
                    }
                    self.injectMiniDom222(miniCanvas, f, MiniCubeSize)
                }
                self.playDomShow();
                self.injectMaxDom222(0);

            }
        },
        injectMiniDom222:function (img, index, size) {
            var CurrentCanvas = this.CubeCanvas[index];
            var CurrentCTX = CurrentCanvas.getContext("2d");
            var fixedNum = 0;
                CurrentCanvas.setStyles({
                    position:"absolute",
                    display:"inline-block",
                    top:"0px",
                    left:"0px"
                });
                CurrentCanvas.style[TWBrowser.prefix + "TransformOriginX"] ="0px";
                CurrentCanvas.style[TWBrowser.prefix + "TransformOriginY"] = "0px";
                CurrentCanvas.style[TWBrowser.prefix + "BackfaceVisibility"] = "visibility";

                if (index < 4) {
                    CurrentCanvas.style[TWBrowser.prefix + "Transform"]= "rotateY(" + index * -90 + "deg) translate3d(-"+this.ImageCubeSize / 2+"px,-"+this.ImageCubeSize / 2+"px,-"+this.ImageCubeSize / 2+"px)"
                } else {
                    CurrentCanvas.style[TWBrowser.prefix + "Transform"] = "rotateX(" + (index == 4 ? -90 : 90) + "deg) translate3d(-"+this.ImageCubeSize / 2+"px,-"+this.ImageCubeSize / 2+"px,-"+this.ImageCubeSize / 2+"px)"
                }
                CurrentCanvas.width = this.ImageCubeSize+fixedNum;
                CurrentCanvas.height = this.ImageCubeSize+fixedNum;
                CurrentCTX.drawImage(img, 0, 0, size, size, 0, 0, this.ImageCubeSize+fixedNum, this.ImageCubeSize+fixedNum);
                CurrentCanvas.inject(this.cubeDom)
        },
        injectMaxDom222:function (index) {
            index = index ? index : 0;
            if (index >= 6) {
                this.setPanTiltFov();
                TWProgress && TWProgress.hide();
                return
            }
            var self = this;
            var isIpad = (TWBrowser.pc == "mobile") ? "mobile" : (TWBrowser.pc == "pad" || TWBrowser.pc == "androidPad") ? "ipad" : "pc";
            var fixedNum = 0;
            var sortArr = ["right", "front", "left", "back", "up", "down"];
            var src = this.image[isIpad][sortArr[index]].url;
            TWProgress && TWProgress.updateProgress((index / 5) * 100);
            var nImage = new Image();
            nImage.src = (src);
            var CurrentCTX = this.CubeCanvas[index].getContext("2d");
            nImage.onload = function () {
                var b = self.ImageCubeSize;
                self.CubeCanvas[index].setStyles({
                    position: "absolute",
                    display: "inline-block",
                    top: "0px",
                    left: "0px",
                    zIndex: 6 - index
                });
                self.CubeCanvas[index].width = b + 10;
                self.CubeCanvas[index].height = b + 10;
                self.CubeCanvas[index].style[TWBrowser.prefix + "TransformOriginZ"] = "-5px";
                self.CubeCanvas[index].style[TWBrowser.prefix + "Transform"] = self.CubeCanvas[index].style[TWBrowser.prefix + "Transform"].split("translate3d")[0] + " translate3d(-" + (b / 2 + 5) + ".0px,-" + (b / 2 + 5) + ".0px,-" + (b / 2 + 5) + ".0px)";
                var o = this.height;
                CurrentCTX.drawImage(this, 0, 0, 1, o, 0, 5, 5, b);
                CurrentCTX.drawImage(this, 0, 0, o, 1, 5, 0, b, 5);
                CurrentCTX.drawImage(this, 0, 0, o, o, 5, 5, b, b);
                CurrentCTX.drawImage(this, (o - 1), 0, 1,o, (b + 5), 5, 5, b);
                CurrentCTX.drawImage(this, 0, (o - 1), o, 1, 5, (b + 5), b, 5);
                index += 1;
                self.injectMaxDom222(index);
            }
        },
         ////////////////////





        loadCubeScene:function () {
                this.setWebKitCss();
        },
        loadMiniImage:function(){
            var self = this;
            var miniSrc = this.preview;
            var MiniCubeSize = 0;
            var miniImage = new Image();
            miniImage.src = (miniSrc);
            miniImage.onload = function () {
                    TWProgress && TWProgress.updateProgress((1 / 7) * 100);
                    MiniCubeSize = Math.min(this.width, this.height);
                    for (var f = 0; f < 6; f++) {
                        var miniCanvas = document.createElement("canvas");
                        miniCanvas.height = MiniCubeSize;
                        miniCanvas.width = MiniCubeSize;
                        if(this.loadType == "Canvas"){
                            var miniCTX = miniCanvas.getContext("2d");
                            if (this.width > this.height) {
                                miniCTX.drawImage(this, f * MiniCubeSize, 0, MiniCubeSize, MiniCubeSize, 0, 0, MiniCubeSize, MiniCubeSize)
                            } else {
                                miniCTX.drawImage(this, 0, f * MiniCubeSize, MiniCubeSize, MiniCubeSize, 0, 0, MiniCubeSize, MiniCubeSize)
                            }
                        }
                        self.injectMiniDom(miniCanvas, f, MiniCubeSize)
                    }
                    self.playDomShow();
                    self.injectMaxDom(0);

            }
        },
        injectMiniDom:function (img, index, size) {
            var CurrentCanvas = this["Cube"+this.loadType][index];
            var CurrentCTX = CurrentCanvas.getContext("2d");
            var fixedNum = 20;
            var prefix = TWBrowser.prefix;
            CurrentCanvas.style.width = this.ImageCubeSize+fixedNum + "px";
            CurrentCanvas.style.height = this.ImageCubeSize+fixedNum + "px";
            CurrentCanvas.style.left = "0px";
            CurrentCanvas.style.top = "0px";
            var rotateX = 0;
            var rotateY = 0;
            var tzlong = 0.8;
            if (index <= 3) {
                rotateY = 360 - index * 90;
                CurrentCanvas.style[prefix + "Transform"] = "translate3d(" + this.width / 2 + "px," + this.height / 2 + "px,0px)" + "  perspective(" + this.ImageCubeSize / 2 + "px)" + "  rotateZ(0deg)" + "  translateZ(" + this.ImageCubeSize / 2 + "px)" + "  rotateX(0deg)" + "  rotateY(0deg)" + "  scale3d(1,1,1)" + "  rotateY(" + rotateY + "deg)" + "  translate3d(-" + this.ImageCubeSize / 2 + "px,-" + this.ImageCubeSize / 2 + "px,-" +(this.ImageCubeSize / 2 -tzlong) + "px)" + "  scale3d(1,1,1)"
            }
            if (index == 4) {
                rotateX = -90;
                CurrentCanvas.style[prefix + "Transform"] = "translate3d(" + this.width / 2 + "px," + this.height / 2 + "px,0px)" + "  perspective(" + this.ImageCubeSize / 2 + "px)" + "  rotateZ(0deg)" + "  translateZ(" + this.ImageCubeSize / 2 + "px)" + "  rotateX(0deg)" + "  rotateY(0deg)" + "  scale3d(1,1,1)" + "  rotateX(" + rotateX + "deg)" + "  translate3d(-" + this.ImageCubeSize / 2 + "px,-" + this.ImageCubeSize / 2 + "px,-" + (this.ImageCubeSize / 2 -tzlong) + "px)" + "  scale3d(1,1,1)"
            }
            if (index == 5) {
                rotateX = 90;
                CurrentCanvas.style[prefix + "Transform"] = "translate3d(" + this.width / 2 + "px," + this.height / 2 + "px,0px)" + "  perspective(" + this.ImageCubeSize / 2 + "px)" + "  rotateZ(0deg)" + "  translateZ(" + this.ImageCubeSize / 2 + "px)" + "  rotateX(0deg)" + "  rotateY(0deg)" + "  scale3d(1,1,1)" + "  rotateX(" + rotateX + "deg)" + "  translate3d(-" + this.ImageCubeSize / 2 + "px,-" + this.ImageCubeSize / 2 + "px,-" + (this.ImageCubeSize / 2  -tzlong) + "px)" + "  scale3d(1,1,1)"
            }
            CurrentCanvas.style[prefix + "TransformOrigin"] = "0% 0%";
            CurrentCTX.drawImage(img, 0, 0, size, size, 0, 0, this.ImageCubeSize+fixedNum, this.ImageCubeSize+fixedNum);
            CurrentCanvas.inject(this.cubeDom)

        },
        injectMaxDom:function (index) {
            index = index ? index : 0;
            if (index >= 6) {
                this.setPanTiltFov();
                TWProgress && TWProgress.hide();
                return
            }
            var self = this;
            var isIpad = (TWBrowser.pc == "mobile") ? "mobile" : (TWBrowser.pc == "pad" || TWBrowser.pc == "androidPad") ? "ipad" : "pc";
            var fixedNum = 20;
            var sortArr = ["right", "front", "left", "back", "up", "down"];
            var src = this.image[isIpad][sortArr[index]].url;
            TWProgress && TWProgress.updateProgress((index / 5) * 100);
            var nImage = new Image();
            nImage.src = (src);
            nImage.onload = function () {
                self["Cube"+self.loadType][index].setStyles({
                    position: "absolute",
                    display: "inline-block",
                    top: "0px",
                    left: "0px",
                    zIndex: 0
                });
                self["Cube"+self.loadType][index].width = self.ImageCubeSize+fixedNum;
                self["Cube"+self.loadType][index].height = self.ImageCubeSize+fixedNum;
                var CurrentCTX = self["Cube"+self.loadType][index].getContext("2d");
                CurrentCTX.drawImage(this, 0, 0, this.width, this.height, 0, 0, self.ImageCubeSize, self.ImageCubeSize);
                index += 1;
                self.injectMaxDom(index);
            }
        },
        loadCylindricalScene:function () {
            var self = this;
            var cylindericalImg = new Image();
            var isIpad = (TWBrowser.pc == "mobile" || TWBrowser.plat == "android") ? "mobile" : (TWBrowser.pc == "pad") ? "ipad" : "pc";
            var src = this.image[isIpad].cylinder.url;
            cylindericalImg.src = (src);
            TWProgress && TWProgress.updateProgress(50);
            cylindericalImg.onload = function () {
                TWProgress && TWProgress.updateProgress(100);
                self.ImageCubeSize = this.width / 2 / Math.PI;//this.width,this.height)/Math.PI;
                self.cubeDom.style[TWBrowser.prefix + "TransformOrigin"] = "0px 0px";
                self.setCylindricalIEScenePlay(this);
            }
        },
        setCylindricalIEScenePlay:function (cylindericalImg) {
            var cHeight = cylindericalImg.height;
            var cWidth = cylindericalImg.width;
            var c_width = parseFloat((cWidth / 72));
            this.containerDom.setStyles({
                marginTop:"0px",
                marginLeft:"0px",
                position:"relative",
                height:"100%",
                width:"100%",
                opacity:1
            });
            var img = cylindericalImg;
            var width = c_width;
            var height = cHeight;
            var prefix = TWBrowser.prefix;
            var tz =cWidth / (2 * Math.PI);
            var fixNum = 0;
            if(TWBrowser.pc == "pc" || TWBrowser.type == "msie" || TWBrowser.plat == "android"){
                fixNum = 1;
            }else{
                fixNum = 0;
                tz = tz - 0.5;
            }
            for (var i = 0; i < 72; i++) {
                var nCanvas = this.CylinderCanvas[i];
                var nCTX = nCanvas.getContext("2d");
                nCanvas.width = width + fixNum;
                nCanvas.height = height + fixNum;
                nCanvas.style.position = "absolute";
                nCanvas.style.left = "0px";
                nCanvas.style.top = "0px";
                nCanvas.style[prefix + "TransformOrigin"] = "0% 0%";
                nCanvas.style[prefix + "Transform"] = "  translate3d(" + this.width / 2 + "px," + this.height / 2 + "px,0px)" + "  perspective(" + tz + "px)" + "  rotateZ(0deg)" + "  translateZ(" + tz + "px)" + "  rotateX(0deg)" + "  rotateY(0deg)" + "  scale3d(1,1,1)" + "  rotateY(-" + (i * 5) + "deg)" + "  translateZ(-" + tz + "px)" + "  translate3d(-" + width / 2 + "px,-" + height / 2 + "px,0px)" + "  scale3d(1,1,1)";
                nCTX.drawImage(img, i * width, 0, width, height, 0, 0, width + fixNum, height + fixNum);
                this.CylinderCanvas[i].inject(this.cubeDom)
            }
            this.playDomShow();
            TWProgress && TWProgress.hide();

        },
        loadCylindricalSceneAndroid:function () {
            var self = this;
            var cylindericalImg = new Image();
            var isIpad = (TWBrowser.pc == "mobile") ? "mobile" : (TWBrowser.pc == "pad") ? "ipad" : "pc";
            TWProgress && TWProgress.updateProgress(50);
            self.translateZDom.style[TWBrowser.prefix + "TransformStyle"] = "preserve-3d";
            self.cubeDom.style[TWBrowser.prefix + "TransformStyle"] = "preserve-3d";
            self.cubeDom.style[TWBrowser.prefix + "TransformOrigin"] = "0px 0px";
            var src = this.image[isIpad].cylinder.url;
            cylindericalImg.src = (src);
            cylindericalImg.onload = function () {
                TWProgress && TWProgress.updateProgress(100);
                self.ImageCubeSize = Math.max(this.width,this.height)/Math.PI;
                self.setCylindricalScenePlayAndroid(this);
            }
        },
        setCylindricalScenePlayAndroid:function (cylindericalImg) {
            var cHeight = cylindericalImg.height;
            var cWidth = cylindericalImg.width;
            var c_width = parseFloat((cWidth / 72));
            this.curScene.fov = parseFloat(this.view.init.fov);//parseFloat(this.view.max.fov);
            this.containerDom.setStyles({
                marginTop:"0px",
                marginLeft:"0px",
                position:"relative",
                height:"100%",
                width:"100%",
                opacity:1
            });
            var fixNum;
            var p;
            fixNum = 0;//0.5;
            p = cWidth / (2 * Math.PI);
            for (var f = 0; f < 72; f++) {
                var a = this.CylinderCanvas[f];//document.createElement("canvas");
                var o = a.getContext("2d");
                var l = cHeight;
                var n = cWidth;
                a.height = l;
                a.width = (n / 72) + 2;
                a.style.position = "absolute";
                a.style.left = "0px";
                a.style.top = "0px";
                a.style[TWBrowser.prefix + "TransformOriginX"] = "0";
                a.style[TWBrowser.prefix + "TransformOriginY"] = "0";
                a.style[TWBrowser.prefix + "TransformOriginZ"] = "0";
                a.style[TWBrowser.prefix + "BackfaceVisibility"] = "hidden";
                a.style[TWBrowser.prefix + "UserSelect"] = "none";
                a.style[TWBrowser.prefix + "Transform"] = "rotateY(-" + (f * 5) + "deg) translate3d(-" + (n / 72) / 2 + "px,-" + l / 2 + "px,-" + p + "px)";
                o.drawImage(cylindericalImg, (n / 72) * f, 0, (n / 72), l, 1, 0, (n / 72), l);
                o.drawImage(cylindericalImg, ((n / 72) * (f + 1) - 1), 0, 1, l, (n / 72 + 1), 0, 1, l);
                this.CylinderCanvas[f].inject(this.cubeDom)
            }
            this.playDomShow();
            TWProgress && TWProgress.hide();

        },

        loadStillScene:function () {
            var StillImage = this.common = this.getDom("img").setProperties({
                name:"StillImage",
                id:"StillImage"
            });
            StillImage.onload = function () {
                this.setStillScenePlay(StillImage)
            };
            StillImage.src = (this.curScene.path + "/Ipad/" + this.curScene.path.split("/")[1] + ".jpg")
        },
        setStillScenePlay:function (StillImage) {
            this.common.inject(this.playDom);
            var img_width = StillImage.width;
            var img_height = StillImage.height;
            var img_lv = img_width / img_height;
            var target_width = this.width;
            var target_height = this.height;
            var width,
                height,
                left,
                top,
                ctx;
            if (this.curScene.isBestfit == "true") {
                if (img_lv > 1) {
                    width = target_width;
                    height = (target_width / img_width) * img_height;
                    left = 0;
                    top = (target_height - height) / 2
                } else {
                    height = target_height;
                    width = (target_height / img_height) * img_width;
                    left = 0;
                    top = (target_height - height) / 2
                }
            } else {
                width = img_width;
                height = img_height;
                left = (target_width - (img_width)) / 2;
                top = (target_height - (img_height)) / 2
            }
            this.curScene.stillWidth = img_width;
            this.curScene.stillHeight = img_height;
            this.curScene.StillInWidth = width;
            this.curScene.StillInHeight = height;
            this.curScene.StillTop = top;
            this.curScene.StillLeft = left;
            this.common.setStyles({
                position:"absolute",
                width:width + "px",
                height:height + "px",
                left:left + "px",
                top:top + "px"
            });
            //TW.progress.hiddenPro();
            this.playDomShow()
        },
        setPanTiltFov:function () {
            this.isRender = false;
            if(this.type == "cylinder"){
                this.checkPanTiltFovCylind2();
                Math.round(this.getFov());
                if(TWBrowser.type == "msie"){
                    this.setIEPanTiltFov();
                }else{
                    this.setWebKitPanTiltFov();
                }
            }else{
                this.checkPanTiltFovCube();
                Math.round(this.getFov());
                /*if(TWBrowser.type == "safari"){
                    this.setWebKitPanTiltFov();
                }else{*/
                    this.setIEPanTiltFov();
                //}
            }
            Math.round(this.getFov());
            this.hotspotsObj && this.hotspotsObj.moveHotSpot();
        },
        setIEPanTiltFov:function () {
            var title = this.curScene.tilt;
            var fov =   this.focalLength;
            var pan = (this.curScene.pan- 180);
            if (this.type == "cylinder") {
                pan = pan - 2.5;
                this.loadType ="Canvas";
            }
            var list = this.cubeDom.querySelectorAll(this.loadType.toLowerCase());
            if (list.length == 0) return;
            var prefix = TWBrowser.prefix;
            for (var k = 0; k < list.length; k++) {
                var trans_f = list[k].style[prefix + "Transform"];
                var arr = trans_f.split(")");
                arr[1] = "perspective(" + (fov) + "px";
                arr[3] = "translateZ(" + (fov) + "px";
                arr[4] = "rotateX(" + (title) + "deg";
                arr[5] = "rotateY(" + (pan) + "deg";
                var newCss = "";
                for (var j = 0; j < arr.length - 1; j++) {
                    newCss += arr[j] + ")"
                }
                list[k].style[prefix + "Transform"] = newCss
            }
        },
        setWebKitPanTiltFov:function () {
            var pan = (parseFloat(this.curScene.pan)- 180);
            if (this.type == "cylinder") {
                pan = pan - 2.5;
                this.perspectiveDom.style[TWBrowser.prefix + "Perspective"] = this.focalLength + "px";
                this.translateZDom.style[TWBrowser.prefix + "Transform"] = "translate3d(" + (this.width / 2) + "px," + (this.height / 2) + "px," + this.focalLength + "px)"
            } else {
                this.perspectiveDom.style[TWBrowser.prefix + "Perspective"] = this.focalLength/2 + "px";
                this.translateZDom.style[TWBrowser.prefix + "Transform"] = "translate3d(" + (this.width / 2) + "px," + (this.height / 2) + "px," + this.focalLength/2 + "px)"
            }
            this.cubeDom.style[TWBrowser.prefix + "Transform"] = "rotateX(" + this.curScene.tilt + "deg)  rotateY(" + pan + "deg)"


        },
        checkPanTiltFovCube:function(){
            if (this.curScene.fov < this.view.min.fov) {
                this.curScene.fov = parseFloat(this.view.min.fov)
            }
            if (this.curScene.fov > this.view.max.fov) {
                this.curScene.fov = parseFloat(this.view.max.fov);
            }
            //水平限制用 pan
            if(TWBrowser.pc != "androidPad"){
                if (this.curScene.fov > parseFloat(this.view.max.pan - this.view.min.pan)/2) {
                    this.curScene.fov = parseFloat((this.view.max.pan - this.view.min.pan)/2);
                }
            }
            this.curScene.tilt = this.setTilt(this.curScene.tilt);

            if (this.view.max.pan == 180 && this.view.min.pan == -180){
                this.curScene.pan = this.curScene.pan % 360
            }
            else{
                if (this.curScene.pan <= (parseFloat(this.view.min.pan) + this.curScene.fov/2)) {
                    this.curScene.pan = parseFloat(this.view.min.pan) + this.curScene.fov/2;
                }
                if (this.curScene.pan >= (parseFloat(this.view.max.pan) - this.curScene.fov/2)) {
                    this.curScene.pan = parseFloat(this.view.max.pan) - this.curScene.fov/2;
                }
            }
        },
        setTilt: function (value){
            this.view.max.tilt = parseInt(this.view.max.tilt);
            this.view.min.tilt = parseInt(this.view.min.tilt);
            value = (value > this.view.max.tilt) ? this.view.max.tilt : value;
            value = (value < this.view.min.tilt) ? this.view.min.tilt : value;
            if((this.view.max.tilt - this.view.min.tilt) < 180){
                var vfovMax = (this.view.max.tilt - this.curScene.fov * 0.5);
                var vfovMin = (this.view.min.tilt + this.curScene.fov * 0.5);
                if(this.view.max.tilt != 90) value = (value > vfovMax) ? vfovMax : value;
                if(this.view.min.tilt != -90) value = (value < vfovMin) ? vfovMin : value;
            }
            return value;
        },
        checkPanTiltFovCylind:function(){
            if (this.curScene.fov < this.view.min.fov) {
                this.curScene.fov = parseFloat(this.view.min.fov)
            }
            if (this.curScene.fov > this.view.max.fov) {
                this.curScene.fov = parseFloat(this.view.max.fov);
            }
            //垂直限制用 pan
            if (this.curScene.fov > parseFloat(this.view.max.tilt - this.view.min.tilt)) {
                this.curScene.fov = parseFloat((this.view.max.tilt - this.view.min.tilt));
            }
            this.curScene.tilt = this.setTilt(this.curScene.tilt);


            if (this.view.max.pan == 180 && this.view.min.pan == -180){
                this.curScene.pan = this.curScene.pan % 360
            }
            else{

                if (this.curScene.pan <= (parseFloat(this.view.min.pan) + this.curScene.fov/2)) {
                    this.curScene.pan = parseFloat(this.view.min.pan) + this.curScene.fov/2;
                }
                if (this.curScene.pan >= (parseFloat(this.view.max.pan) - this.curScene.fov/2)) {
                    this.curScene.pan = parseFloat(this.view.max.pan) - this.curScene.fov/2;
                }
            }
        },
        checkPanTiltFovCylind2 : function () {
            if (this.curScene.fov < this.view.min.fov) {
                this.curScene.fov = this.view.min.fov
            }
            if (this.curScene.fov > this.view.max.fov) {
                this.curScene.fov = this.view.max.fov
            }
            if(TWBrowser.pc != "androidPad"){
                var O = this.curScene.fov / 2;
                if (this.curScene.fov > this.view.max.tilt - this.view.min.tilt) {
                    O = (this.view.max.tilt - this.view.min.tilt) / 2;
                    this.curScene.fov = O * 2;
                }
            }
            if (this.view.max.tilt < 90) {
                if (this.curScene.tilt + O > this.view.max.tilt) {
                    this.curScene.tilt = this.view.max.tilt - O
                }
            } else {
                if (this.curScene.tilt > this.view.max.tilt) {
                    this.curScene.tilt = this.view.max.tilt
                }
            }
            if (this.view.min.tilt > -90) {
                if (this.curScene.tilt - O < this.view.min.tilt) {
                    this.curScene.tilt = this.view.min.tilt + O
                }
            } else {
                if (this.curScene.tilt < this.view.min.tilt) {
                    this.curScene.tilt = this.view.min.tilt
                }
            }
            if (this.view.max.pan - this.view.min.pan < 359.99) {
                var L = Math.atan(this.width / this.height * Math.tan(O * Math.PI / 180)) * 180 / Math.PI;
                var J = 0;
                if (this.curScene.tilt != 0) {
                    var K = this.height / 2;
                    var M = K * Math.tan(O * Math.PI / 180);
                    var N = K / Math.tan(Math.abs(this.curScene.tilt) * Math.PI / 180);
                    N -= M;
                    if (N > 0) {
                        J = Math.atan(1 / (N / M)) * 180 / Math.PI;
                        J = J * (this.view.max.pan - this.view.min.pan) / 360
                    }
                }
                if (this.curScene.pan + (L + J) > this.view.max.pan) {
                    this.curScene.pan = this.view.max.pan - (L + J)
                }
                if (this.curScene.pan - (L + J) < this.view.min.pan) {
                    this.curScene.pan = this.view.min.pan + (L + J)
                }
                if (this.curScene.tilt + O > 90) {
                    this.curScene.tilt = 90 - O
                }
                if (this.curScene.tilt - O < -90) {
                    this.curScene.tilt = -90 + O
                }
            }
        },
        getFov:function () {
            if(this.type == "cylinder"){
                this.focalLength = (this.height * 1 / (2 * Math.tan(Math.PI / 180 * (this.curScene.fov / 2)))).toFixed(2);
            }else{
                this.focalLength = (this.width * 1 / (2 * Math.tan(Math.PI / 180 * (this.curScene.fov / 2)))).toFixed(2);
            }
            return this.focalLength;
        },
        autoPlay:function (d) {
            var self = this;
            if (this.initautoplay == "true" || this.initautoplay == true) {
                window.clearTimeout(this.animateHandler);
                this.animateHandler = null;
                var vfov = this.curScene.fov;
                if (d == 1) {
                    this.curScene.pan = parseFloat(this.curScene.pan) + this.curScene.speed / 10 * vfov / this.width
                } else {
                    this.curScene.pan = parseFloat(this.curScene.pan) - this.curScene.speed / 10 * vfov / this.width
                }
                this.animateHandler = setTimeout(function () {
                        self.setPanTiltFov();
                        self.autoPlay(d)
                    },
                    20)
            }
        },
        initDragStart:function (x, y) {
            this.control.downX = x;
            this.control.downY = y;
            this.eventDom.style.cursor = "url(style/common.gif),auto";
        },
        initDragMove:function (x, y) {
            this.control.moveX = x - this.control.downX;
            this.control.moveY = y - this.control.downY;
            if (TWBrowser.pc == "pc") {
                var K = Math.round(Math.abs(this.control.moveX) / Math.abs(this.control.moveY));
                if (K > 2) {
                    if (this.control.moveX > 0) {
                        this.eventDom.style.cursor = "url(style/right.gif),auto"
                    } else {
                        this.eventDom.style.cursor = "url(style/left.gif),auto"
                    }
                }
                else {
                    if (K < 0.5) {
                        if (this.control.moveY > 0) {
                            this.eventDom.style.cursor = "url(style/down.gif),auto"
                        } else {
                            this.eventDom.style.cursor = "url(style/up.gif),auto"
                        }
                    } else {
                        if (this.control.moveX > 0) {
                            if (this.control.moveY > 0) {
                                this.eventDom.style.cursor = "url(style/rightdown.gif),auto"
                            } else {
                                this.eventDom.style.cursor = "url(style/rightup.gif),auto"
                            }
                        } else {
                            if (this.control.moveY > 0) {
                                this.eventDom.style.cursor = "url(style/leftdown.gif),auto"
                            } else {
                                this.eventDom.style.cursor = "url(style/leftup.gif),auto"
                            }
                        }
                    }
                }
            }
            this.control.moveX = this.control.moveX * 0.1;
            this.control.moveY = this.control.moveY * 0.1;
        },
        initDragEnd:function(){
            this.control.renderNum = -1;
            this.csc.dnd = false;
            this.csc.sx = 0;
            this.csc.sy = 0;
            this.eventDom.style.cursor = "url(style/common.gif),auto";
        },
        mouseDown:function (e) {
            if (!this.control.isMDorTD) {
                this.stop();
                e = e ? e : w.event;
                e.preventDefault();
                if (e.which || e.which == 0 || e.which == 1) {
                    if (this.type != "StillImage") {
                        this.initDragStart(e.pageX, e.pageY)
                    } else {
                        this.csc.sx = e.pageX;
                        this.csc.sy = e.pageY;
                        this.csc.dnd = true
                    }
                }
                this.control.renderNum = 1
            }
        },
        mouseMove:function (e) {
            if (!this.control.isMDorTD) {
                e = e ? e : w.event;
                e.preventDefault();
                if (this.control.renderNum > 0) {
                    if (e.which || e.which == 0 || e.which == 1) {
                        if (this.type != "StillImage") {
                            this.initDragMove(e.pageX, e.pageY)
                        } else {
                            this.csc.dnd = true;
                            this.dndFunc(e.pageX, e.pageY);
                            this.csc.sx = e.pageX;
                            this.csc.sy = e.pageY
                        }
                    }
                }
            }
        },
        mouseUp:function (e) {
            if (!this.control.isMDorTD) {
                e = e ? e : w.event;
                e.preventDefault();
                this.initDragEnd();
            }
        },
        mouseOut:function (e) {
            if (!this.control.isMDorTD) {
                e = e ? e : w.event;
                e.preventDefault();
                if (this.control.renderNum > 0) {
                    this.control.renderNum = -1
                }
                this.csc.dnd = false;
                this.csc.sx = 0;
                this.csc.sy = 0
            }
        },
        mouseWheel:function (e) {
            e.preventDefault();
            e = e ? e : w.event;
            var wheelData = e.detail ? e.detail * -1 : e.wheelDelta / 40;
            this.curScene.fov += wheelData > 0 ? -1 : 1;
            this.setPanTiltFov()
        },
        mouseDownIE:function (e) {
            this.stop();
            if (!this.control.isMDorTD) {
                if (this.type != "StillImage") {
                    this.initDragStart(e.pageX, e.pageY)
                } else {
                    this.csc.sx = e.pageX;
                    this.csc.sy = e.pageY;
                    this.csc.dnd = true
                }
                this.control.renderNum = 1
            }
        },
        mouseMoveIE:function (e) {
            if (!this.control.isMDorTD) {
                if (this.control.renderNum > 0) {
                    if (this.type != "StillImage") {
                        this.initDragMove(e.pageX, e.pageY)
                    } else {
                        this.csc.dnd = true;
                        this.dndFunc(e.pageX, e.pageY);
                        this.csc.sx = e.pageX;
                        this.csc.sy = e.pageY
                    }
                }
            }
        },
        mouseUpIE:function (e) {
            if (!this.control.isMDorTD) {
                this.initDragEnd();
            }
        },
        touchStart:function (e) {
            var oEvent = e;
            if (!this.control.isMDorTD) {
                this.stop();
                oEvent.preventDefault();
                var Ii = oEvent.changedTouches;
                if (this.control.renderNum <= 0 && Ii[0]) {
                    this.control.renderNum = Ii[0].identifier;
                    this.initDragStart(Ii[0].pageX, Ii[0].pageY);
                    this.csc.sx = Ii[0].pageX;
                    this.csc.sy = Ii[0].pageY
                }
            }
        },
        touchMove:function (e) {
            if (!this.control.isMDorTD) {
                var Ii = e.changedTouches;
                e.preventDefault();
                for (var J = 0; J < Ii.length; J++) {
                    if (Ii[J].identifier == this.control.renderNum) {
                        if (this.type != "StillImage") {
                            this.initDragMove(Ii[J].clientX, Ii[J].clientY)
                        } else {
                            this.csc.dnd = true;
                            this.dndFunc(Ii[J].clientX, Ii[J].clientY)
                        }
                        break
                    }
                }
            }
        },
        touchEnd:function (e) {
            if (!this.control.isMDorTD) {
                e.preventDefault();
                this.touchTarget = null;
                this.initDragEnd();
            }
        },
        tc:function (e) {
            if (!this.control.isMDorTD) {
                e.preventDefault();
                this.initDragEnd();
            }
        },
        gs:function (e) {
            if (!this.control.isMDorTD) {
                e.preventDefault();
                this.curScene.tf = this.curScene.fov
            }
        },
        gc:function (e) {
            if (!this.control.isMDorTD) {
                e.preventDefault();
                this.curScene.fov = this.curScene.tf / Math.sqrt(event.scale)
            }
        },
        ge:function (e) {
            if (!this.control.isMDorTD) {
                e.preventDefault()
            }
        },
        keyDown:function (e) {
            this.control.keycode = e.keyCode
        },
        keyUp:function (e) {
            this.control.keycode = 0
        },
        api_updateAngle:function (angle) {
            this.curScene.pan = parseFloat(this.curScene.pan) + angle;
            this.setPanTiltFov()
        },
        api_updateTiltAngle:function (angle) {
            this.curScene.tilt = parseFloat(this.curScene.tilt) + angle;
            this.setPanTiltFov()
        },
        api_updatePanTiltAngle:function (pan, tilt) {
            this.curScene.pan = parseFloat(this.curScene.pan) + pan;
            this.curScene.tilt = parseFloat(this.curScene.tilt) + tilt;
            this.setPanTiltFov()
        },
        api_left:function () {
            this.control.keycode = 37
        },
        api_right:function () {
            this.control.keycode = 39
        },
        api_up:function () {
            this.control.keycode = 38
        },
        api_down:function () {
            this.control.keycode = 40
        },
        api_zoomin:function () {
            this.control.keycode = 16
        },
        api_zoomout:function () {
            this.control.keycode = 17
        },
        api_changerscene:function (pan, tilt, fov) {
            this.stop();
            this.api_reset(pan, tilt, fov);
            this.loading();
        },
        api_reset:function (pan, tilt, fov) {
            pan = pan || this.view.init.pan;
            tilt = tilt || this.view.init.tilt;
            if(TWBrowser.pc == "androidPad" && this.type == "cube"){
                fov = fov || this.view.max.fov;
            }else{
                fov = fov || this.view.init.fov;
            }
            this.curScene.pan = parseFloat(pan);
            this.curScene.tilt = parseFloat(tilt);
            this.curScene.fov = parseFloat(fov);
            this.curScene.speed = parseFloat(this.speed);
            this.setPanTiltFov()
        },
        api_resize:function (width, height) {
            this.setViewSize(width, height);
            this.setPanTiltFov();
            this.loading();
        },
        stop:function () {
            this.control.keycode = 0;
            //this.initautoplay = false;
            window.clearTimeout(this.animateHandler);
            this.animateHandler = null
        },
        start:function () {
            this.control.keycode = 120
        },
        dndFunc:function (_left, _top) {
            if (this.csc.dnd) {
                var top = _top - this.csc.sy;
                var left = _left - this.csc.sx;
                var size = {
                    height:this.height,
                    width:this.width
                };
                var nowTop = parseInt(this.common.style.top);
                var nowLeft = parseInt(this.common.style.left);
                var canMoveTop = size.height - parseInt(this.common.style.height);
                if (canMoveTop < 0) {
                    var uptTop = nowTop + top;
                    if (uptTop > 0) uptTop = 0;
                    if (uptTop < canMoveTop) uptTop = canMoveTop;
                    this.common.style.top = uptTop + "px";
                    this.curScene.StillTop = uptTop
                }
                var canMoveLeft = size.width - parseInt(this.common.style.width);
                if (canMoveLeft < 0) {
                    var uptLeft = nowLeft + left;
                    if (uptLeft > 0) uptLeft = 0;
                    if (uptLeft < canMoveLeft) uptLeft = canMoveLeft;
                    this.common.style.left = uptLeft + "px";
                    this.curScene.StillLeft = uptLeft
                }
            }
        },
        api_CloseGyro:function(){
            this.isGyro = false;
            if(TWTools){
                TWTools.toggleGyroCallBack(this.isGyro);
            }
        },
        api_ToogleGyro: function() {
            if(this.isGyro){
                this.isGyro = false;
            }else{
                this.isGyro = true;
            }
            if(TWTools){
                TWTools.toggleGyroCallBack(this.isGyro);
            }
        },
        addGyroEffect:function(){
            var self = this;
            var mb_beta = 0;
            var mb_gamma = 0;
            var mb_alpha = 0;
            var m_start_x = 0;
            var m_start_y = 0;
            function updateNowSceneForOrg(beta, gamma, alpha) {
                if (window.orientation == 90 || window.orientation == -90) {
                    if (m_start_x == 0 && m_start_y == 0) {
                        m_start_x = alpha;
                        m_start_y = gamma
                    }
                    var update_alpha = m_start_x - alpha;
                    var update_beta = m_start_y - gamma;
                    if (window.orientation == -90) {
                        update_beta = (gamma - m_start_y)
                    }
                    self.api_updatePanTiltAngle(update_alpha, update_beta);
                    m_start_x = alpha;
                    m_start_y = gamma
                } else {
                    if (m_start_x == 0 && m_start_y == 0) {
                        m_start_x = alpha;
                        m_start_y = beta
                    }
                    var update_alpha,
                        update_beta;
                    if (beta < 80) {
                        update_alpha = m_start_x - alpha
                    } else {
                        update_alpha = 0
                    }
                    update_beta = beta - m_start_y;
                    self.api_updatePanTiltAngle(update_alpha, update_beta);
                    m_start_x = alpha;
                    m_start_y = beta
                }
            }
            if (window.DeviceOrientationEvent && TWBrowser.pc !== "pc" && TWBrowser.pc != "android") {
                window.ondeviceorientation = function(event) {
                    mb_beta = parseFloat(event.beta);
                    mb_gamma = parseFloat(event.gamma);
                    mb_alpha = parseFloat(event.alpha);
                    if (self.isGyro) {
                        if (mb_beta > 140) {
                            return
                        }
                        if (mb_beta < -140) {
                            return
                        }
                        if (mb_gamma > 140) {
                            return
                        }
                        if (mb_gamma < -140) {
                            return
                        }
                        updateNowSceneForOrg(mb_beta, mb_gamma, mb_alpha)
                    }
                    else {
                        m_start_x = 0;
                        m_start_y = 0
                    }
                };
            }
        }
    });
    window.TWSceneViewer = cTWSceneViewer;

    /*场景热点类*/
    var cTWHostPoint = TWCore.extend({
        init:function(options){
            this.hostArray = [];
            this.hostJSON = {};
            this.parseToArray(options);
            this.createPointer();
        },
        parseToArray:function(options){
            this.hostArray = mutil.setToArray(options.hotspot) || [];

        },
        createPointer:function(){
            for(var i = 0 ; i< this.hostArray.length; i++){
                if(!this.hostArray[i])continue;
                this.hostJSON[i] =this.hostArray[i];
                this.hostJSON[i].target= document.createElement("div").setStyles({
                    position:"absolute",
                    top:"0px",
                    left:"0px",
                    width:this.hostJSON[i].width + "px",
                    height:this.hostJSON[i].height + "px",
                    zIndex:2
                }).inject(TWScene.container);
                this.hostJSON[i].target.className = "TWHotSpot_Class";



                this.hostJSON[i].img=document.createElement("img");
                this.hostJSON[i].img.src = this.hostJSON[i].common;
                this.hostJSON[i].img.setProperties({
                    orderById:i,
                    commonSrc :this.hostJSON[i].common,
                    overSrc :this.hostJSON[i].hover,
                    parentWidth: this.hostJSON[i].width,
                    parentheight : this.hostJSON[i].height
                });
                this.hostJSON[i].img.onload = function(){
                    this.setStyles({
                        position:"absolute",
                        cursor:"pointer",
                        top:(parseInt(this.getProperty("parentheight")) - (this.height || 20) ) /2 + "px",
                        left:(parseInt(this.getProperty("parentWidth")) - (this.width || 20) ) /2 + "px"
                    });
                };
                this.addEventToImage(this.hostJSON[i].img);
                this.hostJSON[i].img.inject(this.hostJSON[i].target);

            }
            this.moveHotSpot();

        },
        addEventToImage:function(obj){
            var self = this;
            obj.addEvent(TWMain.eventOver,function(){
                obj.src = obj.getProperty("overSrc");
            });
            obj.addEvent(TWMain.eventOut,function(){
                obj.src = obj.getProperty("commonSrc");
            });
            obj.addEvent(TWMain.eventClick,function(){
                var hp_id = obj.getProperty("orderById");
                var hp_obj = self.hostJSON[hp_id];
                var hp_fn = hp_obj.clickFunc;
                var hp_cg = hp_obj.clickParam;
                self[hp_fn] && self[hp_fn](hp_cg);
            });
        },
        moveHotSpot: function() {
            for (var key in this.hostJSON) {
                var bounds ={};// this.HotSpotList[key].getBounds();
                bounds.x = this.hostJSON[key].pan;
                bounds.y = this.hostJSON[key].tilt;
                bounds.width = this.hostJSON[key].width;
                bounds.height = this.hostJSON[key].height;
                var a = Math.PI / 180;
                var j = Math.cos((180 - TWScene.curScene.pan) * a);
                var q = Math.sin((180 - TWScene.curScene.pan) * a);
                var t = Math.cos(TWScene.curScene.tilt * a);
                var l = Math.sin(TWScene.curScene.tilt * a);
                var v = 0;
                var u = 0;
                var p =bounds.y * a;
                var i = (360 - bounds.x) * a ;
                var h = Math.cos(i) * Math.cos(p);
                var g = Math.sin(i) * Math.cos(p);
                var f = Math.sin(p);
                var k = j * h + q * g;
                var o = t * k + l * f;
                var e = false;
                if (o > 0) {
                    var n = TWScene.focalLength / o;
                    v = (-j * g + q * h) * n + TWScene.width / 2;
                    u = -(t * f - l * k) * n + TWScene.height / 2;
                    e = true
                } else {
                    v = -100000;
                    u = -100000
                }
                if (e) {
                    this.hostJSON[key].target.style[TWBrowser.prefix + "Transition"] = "none"
                }
                var m_left = v - Math.round(bounds.width / 2);
                var m_top = u - Math.round(bounds.height / 2);
                this.hostJSON[key].target.setStyles({left:m_left + "px", top:m_top + "px"})
            }
        },
        popWindow:function(configstr){
            configstr = configstr.replace(/\{|\}|\'|\"/g,"");
            configstr =configstr.split(",");
            var config = {
                url:configstr[0].split(":")[1],
                height:configstr[1].split(":")[1],
                width : configstr[2].split(":")[1]
            };
            var popTarget = document.createElement("div").setStyles({
                position:"absolute",
                width:config.width + "px",
                height:config.height +"px",
                top: "0px",
                left:"0px",
                zIndex:10
            }).inject(TWScene.container);
            var popImage = document.createElement("img").setStyles({
                width:config.width + "px",
                height:config.height + "px"
            }).inject(popTarget);
            popImage.src = config.url;
            this.autoCenter(popTarget,parseInt(config.width),parseInt(config.height),TWMain.width,TWMain.height);
            this.dragAble(popTarget);

        },
        LinkURI:function(configstr){
            configstr = configstr.replace(/\{|\}|\'|\"/g,"");
            configstr =configstr.split(",");
            var config = {
                url:configstr[0].split("\/\/")[1],
                des:configstr[1].split(":")[1]
            };
            if (config.des == "blank") {
                window.open("http://"+config.url)
            } else {
                window.location.href = config.url;
            }
        },
        autoCenter: function(obj,width,height,targetWidth,targetHeight) {
            var left = (targetWidth- width) / 2;
            var top = (targetHeight - height) / 2;
            obj.setStyles({
                position:"absolute",
                left: left + "px",
                top: top + "px"
            })
        },
        dragAble: function(eventTarget) {
            var self = this;
            eventTarget.addEvent(TWMain.eventOut,
                function(e) {
                    self.isDown = false;
                    self.s_x = 0;
                    self.s_y = 0
                });
            eventTarget.addEvent(TWMain.eventDown,
                function(e) {
                    e.preventDefault();
                    e = (e.changedTouches && e.changedTouches[0]) || e;
                    self.isDown = true;
                    self.s_x = (e.clientX);
                    self.s_y = (e.clientY)
                });
            eventTarget.addEvent(TWMain.eventMove,
                function(e) {
                    e.preventDefault();
                    e = (e.changedTouches && e.changedTouches[0]) || e;
                    if (self.isDown) {
                        var xx = (e.clientX);
                        var yy = (e.clientY);
                        var x = xx - self.s_x;
                        var y = yy - self.s_y;
                        var nowTop = parseFloat(eventTarget.style.top);
                        var nowLeft = parseFloat(eventTarget.style.left);
                        eventTarget.setStyles({
                            top: (nowTop + y) + "px",
                            left: (nowLeft + x) + "px"
                        });
                        if (x != 0 && y != 0) {
                            self.isMove = true
                        }
                    }
                    self.s_x = (e.clientX);
                    self.s_y = (e.clientY)
                });
            eventTarget.addEvent(TWMain.eventUp,
                function(e) {
                    e.preventDefault();
                    if (!self.isMove) {
                        self.hiddenImage(eventTarget)
                    }
                    self.isDown = false;
                    self.isMove = false;
                    self.s_x = 0;
                    self.s_y = 0
                })
        },
        hiddenImage: function(eventTarget) {
            eventTarget.destroy();
        }

    });
    window.TWHostPoint = cTWHostPoint;
})();

/*不支持提示*/
function createTip() {
    var div = mutil.createDom("div");
    div.id = "nonsupport";
    div.innerHTML = LanguageList.tip6[TWLanguage];
    document.body.appendChild(div)
}
/*浏览器检测*/
function checkBrowser() {
    if (TWBrowser.CSSMatrix) {
        config = parseConfigData(config);
        var config_str =decodeURI(loadConfig(config));

        //var config_str =decodeURI(loadConfig(config));
        //console.log(config_str);
        TWConfig = (new DOMParser()).parseFromString(config_str, "text/xml") || null;
        if (TWConfig) {
            parseConfig();
        }
    } else{
        createTip();
    }
}
/*xml文件转换成json对象*/
function xmlParseToJSON(nodes) {
    var json = {};
    for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];
        var name = node.nodeName;
        var type = node.nodeType;
        if (type == 3) continue;
        var value = {};
        if (node.childNodes.length != 0) {
            value = this.xmlParseToJSON(node.childNodes)
        }
        //节点属性
        for (var j = 0; j < node.attributes.length; j++) {
            value[node.attributes[j].nodeName] = node.attributes[j].nodeValue;
        }
        if (!json[name]) {
            json[name] = value
        } else {
            if (Object.prototype.toString.call(json[name]) === '[object Array]') {
                json[name].push(value)
            } else {
                var _value = json[name];
                json[name] = [];
                json[name].push(_value);
                json[name].push(value)
            }
        }
    }
    return json
}
/*初始默认的参数*/
function setDefaultConfig() {
    if(!TWConfig)return;
    TWMain.width = (TWConfig.general.viewer.width == "100%") ? TWSize.viewPort.width : TWConfig.general.viewer.width;
    TWMain.height = (TWConfig.general.viewer.height == "100%") ? TWSize.viewPort.height : TWConfig.general.viewer.height;
    TWMain.eventOut = (TWBrowser.pc == "pc" || TWBrowser.type == "msie") ? "mouseout" : "touchend";
    TWMain.eventOver = (TWBrowser.pc == "pc" || TWBrowser.type == "msie") ? "mouseover" : "touchstart";
    TWMain.eventClick = (TWBrowser.pc == "pc" || TWBrowser.type == "msie") ? "click" : "touchend";
    TWMain.eventDown = (TWBrowser.pc == "pc" || TWBrowser.type == "msie") ? "mousedown" : "touchstart";
    TWMain.eventMove = (TWBrowser.pc == "pc" || TWBrowser.type == "msie") ? "mousemove" : "touchmove";
    TWMain.eventUp = (TWBrowser.pc == "pc" || TWBrowser.type == "msie") ? "mouseup" : "touchend";
    if(!TWMain.target){
        TWMain.target = document.createElement("div").setStyles({
            display:"none"
        });
        TWMain.target.inject(document.body);
    }
    TWMain.target.setStyles({
        position:"absolute",
        width:TWMain.width + "px",
        height:TWMain.height + (TWBrowser.pc == "mobile" ? 61 : 0) + "px",
        top:"0px",
        left:"0px"
    });
    TWMain.target.setProperties({
        name:"TWMainWindow"
    });
    document.body.addEvent(TWMain.eventDown,function(e){
        stopEvent(e);
    });
    document.body.addEvent(TWMain.eventMove,function(e){
        stopEvent(e);
    });
    document.body.addEvent(TWMain.eventClick,function(e){
        stopEvent(e);
    });

}
function stopEvent(e) {
    e = e ? e : window.event;
    e.preventDefault();
    e.stopPropagation();
}
/*解析config文件 实例化对象*/
function parseConfig() {
    var boot = TWConfig.getElementsByTagName("panorama")[0];
    TWConfig = xmlParseToJSON(boot.childNodes);
    setDefaultConfig();
    TWProgress = new TWProgressBar(TWConfig.general.progress);

    TWConfig.scene.width = TWMain.width;
    TWConfig.scene.height = TWMain.height;
    TWConfig.scene.container = TWMain.target;
    TWConfig.scene.preview = TWConfig.scene.preview.url;
    TWConfig.scene.type = (TWConfig.scene.type == "cube") ? "cube" : "cylinder";
    TWConfig.scene.isRegister = TWConfig.general.Activated.value =="false" ? false : true;

    TWScene = new TWSceneViewer(TWConfig.scene);
    TWTools = new TWToolBar(TWConfig.general.toolbar,TWScene);
    TWTools.insertOtherDOM(TWScene.container, TWScene.width, TWScene.height);

}
/*右击禁用*/
function nocontextmenu(){
    event.cancelBubble = true;
    event.returnValue = false;
    return false;
}
function norightclick(e){
    if (window.Event)
    {
        if (e.which == 2 || e.which == 3)
            return false;
    }
    else
    if (event.button == 2 || event.button == 3)
    {
        event.cancelBubble = true;
        event.returnValue = false;
        return false;
    }

}

function runPrefixMethod(element, method) {
        var usablePrefixMethod;
        ["webkit", "moz", "ms", "o", ""].forEach(function(prefix) {
            if (usablePrefixMethod) return;
            if (prefix === "") {
                // 无前缀，方法首字母小写
                method = method.slice(0,1).toLowerCase() + method.slice(1);
            }

            var typePrefixMethod = typeof element[prefix + method];
            if (typePrefixMethod + "" !== "undefined") {
                if (typePrefixMethod === "function") {
                    usablePrefixMethod = element[prefix + method];
                } else {
                    usablePrefixMethod = element[prefix + method];
                }
                element[prefix + method]();
            }
        });
        return usablePrefixMethod;
    }
function initLoad(){
    TWBrowser = mutil.getBrowser();
    //var fn = runPrefixMethod(document.documentElement, "RequestFullScreen");
    TWSize = mutil.getWindowSize();
    TWLanguage = (window.navigator.language === "zh-CN" || window.navigator.language === "zh-cn") ? "cn" : "en";
    checkBrowser();
    window.focus();
}
/*document.oncontextmenu = nocontextmenu;  // for IE5+
document.onmousedown = norightclick;  // for all others*/

window.onresize = function() {
    TWSize = mutil.getWindowSize();
    setDefaultConfig();
    TWProgress && TWProgress.resizeProgressBar(TWMain.width,TWMain.height);
    //console.log(TWMain.width +"///"+TWMain.height);
    TWScene && TWScene.api_resize(TWMain.width,TWMain.height);
    TWTools && TWTools.resizeToolBar(TWMain.width,TWMain.height);
    //window.scrollTo(0, 1);
};

window.onload = function () {
    initLoad();
};
Element.prototype.hasClassName = function (a) {
    return new RegExp("(?:^|\\s+)" + a + "(?:\\s+|$)").test(this.className)
};
Element.prototype.addClassName = function (a) {
    if (!this.hasClassName(a)) {
        this.className = [this.className, a].join(" ");
        return this
    }
};
Element.prototype.removeClassName = function (b) {
    if (this.hasClassName(b)) {
        var a = this.className;
        this.className = a.replace(new RegExp("(?:^|\\s+)" + b + "(?:\\s+|$)", "g"), " ");
        return this
    }
};
Element.prototype.toggleClassName = function (a) {
    this[this.hasClassName(a) ? "removeClassName" : "addClassName"](a);
    return this
};
Element.prototype.inject = function (el) {
    if (el) {
        el.appendChild(this);
        return this
    }
};
Element.prototype.setStyles = function (json) {
    for (var key in json) {
        this.style[key] = json[key]
    }
    return this
};
Element.prototype.setProperties = function (properties) {
    for (var key in properties) {
        this.setAttribute(key, properties[key])
    }
    return this
};
Element.prototype.getProperty = function (name) {
    return this.getAttribute(name)
};
Element.prototype.addEvent = function (name, fn) {
    if (this.addEventListener) {
        this.addEventListener(name, fn, false)
    } else if (this.attachEvent) {
        this.attachEvent("on" + name, fn)
    } else {
        this["on" + name] = fn
    }
    return this
};
Element.prototype.destroy = function () {
    this.parentNode.removeChild(this)
};
Element.prototype.hide = function (duration, callback) {
    var opacity = parseFloat(this.style.opacity) || 1;
    opacity -= 0.01;
    var self = this;
    if (opacity > 0) {
        this.style.opacity = opacity;
        window.setTimeout(function () {
                self.hide(duration, callback)
            },
            duration)
    } else {
        this.style.opacity = 0;
        if (callback) {
            callback()
        }
    }
};
Element.prototype.getPoint = function (obj) {
    var t = obj.offsetTop;
    var l = obj.offsetLeft;
    while (obj = obj.offsetParent) {
        t += obj.offsetTop;
        l += obj.offsetLeft
    }
    return {
        top:t,
        left:l
    }
};
Element.prototype.show = function (duration, callback) {
    var opacity = parseFloat(this.style.opacity);
    opacity += 0.01;
    var self = this;
    if (opacity < 1) {
        this.style.opacity = opacity;
        window.setTimeout(function () {
                self.show(duration, callback)
            },
            duration)
    } else {
        this.style.opacity = 1;
        if (callback) {
            callback()
        }
    }
};
window.requestAnimFrame = (function() {
    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
        function(callback, time) {
            return window.setTimeout(callback, 1000 / 60)
        }
})();



